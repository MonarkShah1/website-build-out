---
/**
 * Homepage - SEO Optimized
 * Core landing page with comprehensive SEO implementation
 */

import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import { measurePerformance } from '../utils/webVitals';
import HeroQuoteForm from '../components/HeroQuoteForm/HeroQuoteForm';
import SimpleHeroForm from '../components/HeroQuoteForm/SimpleHeroForm';

// SEO data for homepage with complete metadata
const seoData = {
  title: 'Custom Metal Fabrication Toronto | Laser Cutting & Welding - CMF',
  description: 'Canadian Metal Fabricators: Toronto\'s trusted custom metal fabrication shop. Precision laser cutting, CNC bending & welding. Same-day quotes, fast turnaround. ISO 9001 certified.',
  keywords: [
    'metal fabrication toronto',
    'laser cutting services toronto',
    'cnc metal bending',
    'custom metal parts canada',
    'instant quote metal fabrication',
    'sheet metal fabrication toronto',
    'welding services gta',
    'steel fabrication ontario',
    'aluminum fabrication toronto',
    'stainless steel cutting'
  ],
  canonical: 'https://www.canadianmetalfab.com/',
  openGraph: {
    title: 'Custom Metal Fabrication Services in Toronto | Canadian Metal Fabricators',
    description: 'Get instant quotes for precision metal fabrication. Laser cutting, bending, welding. Fast turnaround, competitive pricing. Serving Toronto & GTA since 1985.',
    image: '/images/og-home.jpg',
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Custom Metal Fabrication Toronto - Instant Quotes | CMF',
    description: 'Upload your CAD files for instant metal fabrication quotes. Precision laser cutting & welding. Same-day service available.',
    image: '/images/twitter-home.jpg',
  },
};

// Preload critical resources
const criticalResources = [
  { rel: 'preconnect', href: 'https://fonts.googleapis.com' },
  { rel: 'dns-prefetch', href: 'https://www.googletagmanager.com' },
  { rel: 'preload', href: '/fonts/inter-var.woff2', as: 'font', type: 'font/woff2', crossorigin: 'anonymous' },
];
---

<Layout {...seoData} resourceHints={criticalResources}>
  <section class="hero" itemscope itemtype="https://schema.org/Service">
    <div class="container hero-container">
      <div class="hero-content">
        <h1 itemprop="name">Precision Crafted in Canada: Reliable Solutions for Tomorrow's Challenges</h1>
        <p class="lead" itemprop="description">
          From our Toronto workshops, we turn your ideas into durable realities. 
          Get instant quotes for precision metal fabrication with Canadian craftsmanship you can trust.
        </p>
        <div class="trust-indicators">
          <span class="indicator">
            <strong>500+</strong> Projects Completed
          </span>
          <span class="indicator">
            <strong>24hr</strong> Turnaround Available
          </span>
          <span class="indicator">
            <strong>ISO 9001</strong> Certified
          </span>
        </div>
        <div class="backup-cta">
          <a href="tel:+14165550123" class="cta-button secondary" aria-label="Call us at 416-555-0123">
            <span>📞 Call: (416) 555-0123</span>
          </a>
        </div>
      </div>
      <div class="hero-form">
        <HeroQuoteForm client:load />
      </div>
    </div>
  </section>
  
  <section class="capabilities" aria-labelledby="capabilities-heading">
    <div class="container">
      <h2 id="capabilities-heading">Our Metal Fabrication Capabilities</h2>
      <div class="capabilities-grid">
        <article class="capability-card card-offset-1" itemscope itemtype="https://schema.org/Service">
          <div class="capability-icon" aria-hidden="true">
            <svg width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            </svg>
          </div>
          <h3 itemprop="name">Precision Laser Cutting</h3>
          <p itemprop="description">Canadian-grade precision cutting up to 1" thick steel with millimeter accuracy that meets tomorrow's manufacturing standards.</p>
          <ul class="capability-features">
            <li>✓ Materials: Steel, Aluminum, Stainless</li>
            <li>✓ Max thickness: 1" (25mm)</li>
            <li>✓ Tolerance: ±0.005" (±0.13mm)</li>
          </ul>
          <a href="/services/laser-cutting" class="capability-link" aria-label="Explore our laser cutting expertise">
            Explore Our Work <span aria-hidden="true">→</span>
          </a>
        </article>
        
        <article class="capability-card card-offset-2" itemscope itemtype="https://schema.org/Service">
          <div class="capability-icon" aria-hidden="true">
            <svg width="48" height="52" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            </svg>
          </div>
          <h3 itemprop="name">CNC Metal Forming</h3>
          <p itemprop="description">Advanced CNC press brake forming that transforms raw Canadian steel into precisely angled components for complex assemblies.</p>
          <ul class="capability-features">
            <li>✓ Max length: 12ft (3.6m)</li>
            <li>✓ Tonnage: 175 tons</li>
            <li>✓ Angle accuracy: ±0.5°</li>
          </ul>
          <a href="/services/metal-bending" class="capability-link" aria-label="Discover our CNC forming capabilities">
            Explore Our Work <span aria-hidden="true">→</span>
          </a>
        </article>
        
        <article class="capability-card card-offset-3" itemscope itemtype="https://schema.org/Service">
          <div class="capability-icon" aria-hidden="true">
            <svg width="50" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <h3 itemprop="name">Expert Welding & Assembly</h3>
          <p itemprop="description">Our certified Canadian welders bring decades of expertise to create lasting bonds that withstand harsh Canadian conditions.</p>
          <ul class="capability-features">
            <li>✓ MIG, TIG, Spot welding</li>
            <li>✓ AWS certified welders</li>
            <li>✓ Full assembly services</li>
          </ul>
          <a href="/services/welding" class="capability-link" aria-label="See our welding portfolio">
            Explore Our Work <span aria-hidden="true">→</span>
          </a>
        </article>
      </div>
    </div>
  </section>
  
  <!-- Our Work Portfolio Section -->
  <section class="portfolio" aria-labelledby="portfolio-heading">
    <div class="container">
      <h2 id="portfolio-heading">Our Work</h2>
      <p class="section-description">Real projects, real results. From prototype to production, see how we've solved complex challenges for Canadian businesses.</p>
      
      <div class="portfolio-filters">
        <button class="filter-btn active" data-filter="all">All Projects</button>
        <button class="filter-btn" data-filter="automotive">Automotive</button>
        <button class="filter-btn" data-filter="construction">Construction</button>
        <button class="filter-btn" data-filter="custom">Custom Fabrication</button>
      </div>
      
      <div class="portfolio-grid">
        <article class="portfolio-item" data-category="automotive">
          <div class="portfolio-image">
            <div class="placeholder-img">📷</div>
          </div>
          <div class="portfolio-content">
            <h3>Automotive Brake Components</h3>
            <p>Precision laser-cut brake housing components for a Toronto automotive supplier. This project required ±0.003" tolerance on critical mounting points.</p>
            <div class="portfolio-specs">
              <span class="spec">Material: 304 Stainless Steel</span>
              <span class="spec">Quantity: 2,500 units</span>
              <span class="spec">Delivery: 5 days</span>
            </div>
          </div>
        </article>
        
        <article class="portfolio-item" data-category="construction">
          <div class="portfolio-image">
            <div class="placeholder-img">📷</div>
          </div>
          <div class="portfolio-content">
            <h3>Architectural Brackets</h3>
            <p>Custom structural brackets for a heritage building restoration in downtown Toronto. Each piece was hand-finished to match the original 1920s aesthetic.</p>
            <div class="portfolio-specs">
              <span class="spec">Material: Hot Rolled Steel</span>
              <span class="spec">Quantity: 150 pieces</span>
              <span class="spec">Delivery: 10 days</span>
            </div>
          </div>
        </article>
        
        <article class="portfolio-item" data-category="custom">
          <div class="portfolio-image">
            <div class="placeholder-img">📷</div>
          </div>
          <div class="portfolio-content">
            <h3>Industrial Equipment Housing</h3>
            <p>Complex multi-piece housing for mining equipment that needed to withstand extreme Canadian weather conditions in Northern Ontario.</p>
            <div class="portfolio-specs">
              <span class="spec">Material: Galvanized Steel</span>
              <span class="spec">Quantity: 12 assemblies</span>
              <span class="spec">Delivery: 14 days</span>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>
  
  <!-- Our Values Section -->
  <section class="values" aria-labelledby="values-heading">
    <div class="container">
      <h2 id="values-heading">Why Choose CMF</h2>
      <div class="values-grid">
        <div class="value-story">
          <div class="value-icon">🛡️</div>
          <h3>Reliability Built In</h3>
          <p>When a Toronto construction company needed emergency brackets for a stalled project, we delivered precision-cut components in 6 hours. Their project stayed on schedule, and they've been our client for 8 years running.</p>
          <blockquote>
            <p>"CMF doesn't just meet deadlines—they save projects."</p>
            <cite>— Sarah Chen, Project Manager, BuildTech Toronto</cite>
          </blockquote>
        </div>
        
        <div class="value-story">
          <div class="value-icon">🎯</div>
          <h3>Precision That Matters</h3>
          <p>A local aerospace supplier trusted us with critical components requiring ±0.002" tolerance. Our CNC equipment and skilled operators delivered parts that passed their rigorous quality control on the first inspection.</p>
          <blockquote>
            <p>"The precision is consistently outstanding. Zero rework needed."</p>
            <cite>— James Liu, Quality Director, AeroMax Components</cite>
          </blockquote>
        </div>
        
        <div class="value-story">
          <div class="value-icon">💡</div>
          <h3>Innovation in Action</h3>
          <p>When a client brought us an "impossible" design—a complex curved bracket with internal channels—our team developed a hybrid cutting and forming technique that's now part of our standard capabilities.</p>
          <blockquote>
            <p>"They turned our biggest challenge into their newest capability."</p>
            <cite>— Michael Torres, Design Engineer, Innovative Structures</cite>
          </blockquote>
        </div>
        
        <div class="value-story">
          <div class="value-icon">🍁</div>
          <h3>Proudly Canadian</h3>
          <p>From Nunavut mining operations to Nova Scotia shipyards, our work spans the country. We understand Canadian conditions, regulations, and the spirit of getting things done right the first time.</p>
          <blockquote>
            <p>"True Canadian grit—they deliver no matter the challenge."</p>
            <cite>— David Thompson, Operations Manager, Northern Mining Corp</cite>
          </blockquote>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Our Team Section -->
  <section class="team" aria-labelledby="team-heading">
    <div class="container">
      <h2 id="team-heading">Meet the Craftspeople</h2>
      <p class="section-description">Behind every precision cut and perfect weld is a Canadian craftsperson who takes pride in their work.</p>
      
      <div class="team-grid">
        <div class="team-member">
          <div class="member-photo">
            <div class="placeholder-avatar">👨‍🏭</div>
          </div>
          <div class="member-info">
            <h3>Mike Kowalski</h3>
            <p class="member-title">Lead Welder & Shop Foreman</p>
            <p class="member-bio">
              Twenty-three years ago, Mike started as an apprentice welder here at CMF. Today, he leads our team and holds AWS D1.1 certification. 
              When not perfecting TIG welds, he's teaching his grandson hockey in Scarborough.
            </p>
            <div class="member-fun-fact">
              <strong>Fun fact:</strong> Mike once welded repairs on the CN Tower maintenance platform
            </div>
            <a href="https://linkedin.com/in/mike-kowalski-cmf" class="member-linkedin" aria-label="Connect with Mike on LinkedIn">
              LinkedIn →
            </a>
          </div>
        </div>
        
        <div class="team-member">
          <div class="member-photo">
            <div class="placeholder-avatar">👩‍💼</div>
          </div>
          <div class="member-info">
            <h3>Sarah Patel</h3>
            <p class="member-title">CNC Programming Specialist</p>
            <p class="member-bio">
              Sarah brings precision to every program she writes. With a mechanical engineering degree from U of T and 12 years at CMF, 
              she's programmed everything from tiny watch components to massive structural beams.
            </p>
            <div class="member-fun-fact">
              <strong>Fun fact:</strong> Sarah's weekend hobby is precision woodworking—she built her own CNC router
            </div>
            <a href="https://linkedin.com/in/sarah-patel-cnc" class="member-linkedin" aria-label="Connect with Sarah on LinkedIn">
              LinkedIn →
            </a>
          </div>
        </div>
        
        <div class="team-member">
          <div class="member-photo">
            <div class="placeholder-avatar">👨‍🔧</div>
          </div>
          <div class="member-info">
            <h3>Robert "Bob" MacLeod</h3>
            <p class="member-title">Quality Control Inspector</p>
            <p class="member-bio">
              Bob's eagle eye has caught thousands of potential issues before they become problems. A Nova Scotia native who moved to Toronto for love, 
              he brings Maritime attention to detail to every inspection.
            </p>
            <div class="member-fun-fact">
              <strong>Fun fact:</strong> Bob volunteers at the Ontario Science Centre, teaching kids about precision measurement
            </div>
            <a href="https://linkedin.com/in/robert-macleod-qc" class="member-linkedin" aria-label="Connect with Bob on LinkedIn">
              LinkedIn →
            </a>
          </div>
        </div>
        
        <div class="team-member">
          <div class="member-photo">
            <div class="placeholder-avatar">👩‍💻</div>
          </div>
          <div class="member-info">
            <h3>Jennifer Wong</h3>
            <p class="member-title">Customer Success Manager</p>
            <p class="member-bio">
              Jennifer is often the first voice you'll hear when you call CMF. With her background in industrial design and 8 years in customer service, 
              she translates your vision into actionable project specs.
            </p>
            <div class="member-fun-fact">
              <strong>Fun fact:</strong> Jennifer speaks four languages and has hiked the Canadian Rockies end-to-end
            </div>
            <a href="https://linkedin.com/in/jennifer-wong-cmf" class="member-linkedin" aria-label="Connect with Jennifer on LinkedIn">
              LinkedIn →
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Materials Section -->
  <section class="materials" aria-labelledby="materials-heading">
    <div class="container">
      <h2 id="materials-heading">Materials We Work With</h2>
      <div class="materials-grid">
        <div class="material-card">
          <h3>Steel</h3>
          <p>Hot rolled, cold rolled, galvanized</p>
        </div>
        <div class="material-card">
          <h3>Aluminum</h3>
          <p>5052, 6061, 7075 alloys</p>
        </div>
        <div class="material-card">
          <h3>Stainless Steel</h3>
          <p>304, 316, 430 grades</p>
        </div>
        <div class="material-card">
          <h3>Specialty Metals</h3>
          <p>Brass, copper, titanium</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <section class="cta-section" aria-labelledby="cta-heading">
    <div class="container">
      <h2 id="cta-heading">Ready to Start Your Project?</h2>
      <p class="cta-description">
        Upload your CAD files now and get an instant quote. No account required.
      </p>
      <div class="cta-buttons">
        <a href="/instant-quote" class="cta-button primary large">
          Get Instant Quote
        </a>
        <a href="/contact" class="cta-button secondary large">
          Contact Us
        </a>
      </div>
    </div>
  </section>
  
  <!-- Comprehensive Structured Data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://www.canadianmetalfab.com/#organization",
          "name": "Canadian Metal Fabricators",
          "alternateName": "CMF",
          "url": "https://www.canadianmetalfab.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.canadianmetalfab.com/images/logo.png",
            "width": 600,
            "height": 60
          },
          "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+1-416-555-0123",
            "contactType": "sales",
            "areaServed": "CA",
            "availableLanguage": ["English", "French"]
          },
          "sameAs": [
            "https://www.facebook.com/canadianmetalfab",
            "https://www.linkedin.com/company/canadian-metal-fabricators",
            "https://www.youtube.com/@canadianmetalfab"
          ]
        },
        {
          "@type": "LocalBusiness",
          "@id": "https://www.canadianmetalfab.com/#localbusiness",
          "name": "Canadian Metal Fabricators",
          "image": [
            "https://www.canadianmetalfab.com/images/facility-1x1.jpg",
            "https://www.canadianmetalfab.com/images/facility-4x3.jpg",
            "https://www.canadianmetalfab.com/images/facility-16x9.jpg"
          ],
          "priceRange": "$$",
          "url": "https://www.canadianmetalfab.com",
          "telephone": "+1-416-555-0123",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "123 Industrial Way",
            "addressLocality": "Toronto",
            "addressRegion": "ON",
            "postalCode": "M1B 2C3",
            "addressCountry": "CA"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": 43.7615,
            "longitude": -79.2656
          },
          "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
              "opens": "08:00",
              "closes": "17:00"
            },
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": "Saturday",
              "opens": "09:00",
              "closes": "13:00"
            }
          ],
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "127"
          },
          "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Metal Fabrication Services",
            "itemListElement": [
              {
                "@type": "Offer",
                "itemOffered": {
                  "@type": "Service",
                  "name": "Laser Cutting",
                  "description": "Precision laser cutting up to 1\" thick steel"
                }
              },
              {
                "@type": "Offer",
                "itemOffered": {
                  "@type": "Service",
                  "name": "CNC Bending",
                  "description": "Accurate metal bending with CNC press brakes"
                }
              },
              {
                "@type": "Offer",
                "itemOffered": {
                  "@type": "Service",
                  "name": "Welding Services",
                  "description": "MIG, TIG, and spot welding services"
                }
              }
            ]
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://www.canadianmetalfab.com/#website",
          "url": "https://www.canadianmetalfab.com",
          "name": "Canadian Metal Fabricators",
          "description": "Custom metal fabrication services in Toronto",
          "publisher": {
            "@id": "https://www.canadianmetalfab.com/#organization"
          },
          "potentialAction": [
            {
              "@type": "SearchAction",
              "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://www.canadianmetalfab.com/search?q={search_term_string}"
              },
              "query-input": "required name=search_term_string"
            }
          ],
          "inLanguage": "en-CA"
        },
        {
          "@type": "BreadcrumbList",
          "@id": "https://www.canadianmetalfab.com/#breadcrumb",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://www.canadianmetalfab.com"
            }
          ]
        }
      ]
    }
  </script>
</Layout>

<style>
  /* Hero Section - Enhanced with Canadian Branding */
  .hero {
    padding: var(--space-20) 0;
    background: var(--hero-gradient);
    position: relative;
    overflow: hidden;
    color: var(--cmf-off-white);
  }
  
  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: var(--brushed-metal);
    background-size: 4px 4px;
    opacity: 0.03;
  }
  
  .hero-container {
    display: grid;
    grid-template-columns: 1fr 500px;
    gap: var(--space-12);
    align-items: center;
    position: relative;
    z-index: 2;
  }
  
  .hero-content {
    text-align: left;
    margin-right: var(--offset-large); /* Asymmetrical offset */
  }
  
  .hero-form {
    justify-self: end;
    margin-left: var(--offset-medium); /* Asymmetrical offset */
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.1); opacity: 0.3; }
  }
  
  .hero .container {
    position: relative;
    z-index: 1;
  }
  
  .hero h1 {
    font-size: clamp(2rem, 4vw, 3rem);
    line-height: 1.2;
    margin-bottom: var(--space-6);
    color: var(--cmf-off-white);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .hero .lead {
    font-family: var(--font-body);
    font-size: clamp(var(--text-lg), 2vw, var(--text-xl));
    font-weight: var(--weight-regular);
    color: rgba(245, 245, 245, 0.9);
    max-width: 600px;
    margin: 0 0 var(--space-8);
    line-height: var(--leading-relaxed);
    letter-spacing: var(--tracking-normal);
  }
  
  .backup-cta {
    margin-top: var(--space-4);
  }
  
  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-6);
    border-radius: var(--radius-lg);
    font-weight: 600;
    font-size: var(--text-base);
    transition: all var(--transition-fast);
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }
  
  .cta-button.primary {
    background: var(--cmf-orange);
    color: var(--cmf-off-white);
    border: 2px solid var(--cmf-orange);
    box-shadow: 0 0 0 0 var(--cmf-orange-light);
    transition: all var(--transition-base), box-shadow 0.3s ease;
  }
  
  .cta-button.primary:hover {
    background: var(--cmf-orange-hover);
    border-color: var(--cmf-orange-hover);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 0 20px 5px var(--cmf-orange-light);
  }
  
  .cta-button.secondary {
    background: var(--cmf-off-white);
    color: var(--cmf-primary);
    border: 2px solid var(--cmf-primary);
  }
  
  .cta-button.secondary:hover {
    background: var(--cmf-primary);
    color: var(--cmf-off-white);
    transform: translateY(-2px);
  }
  
  .cta-button.large {
    padding: var(--space-4) var(--space-8);
    font-size: var(--text-xl);
  }
  
  
  .trust-indicators {
    display: flex;
    gap: var(--space-6);
    justify-content: flex-start;
    flex-wrap: wrap;
    padding-top: var(--space-6);
    border-top: 1px solid rgba(245, 245, 245, 0.2);
    margin-bottom: var(--space-6);
  }
  
  .indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
    color: rgba(245, 245, 245, 0.8);
    font-size: var(--text-sm);
  }
  
  .indicator strong {
    display: block;
    font-size: var(--text-2xl);
    color: var(--cmf-orange);
    font-weight: 700;
  }
  
  /* Capabilities Section - Asymmetrical Grid */
  .capabilities {
    padding: var(--space-20) 0;
    background: var(--cmf-off-white);
    position: relative;
  }
  
  .capabilities::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 200px;
    background: var(--steel-gradient);
    opacity: 0.1;
  }
  
  .capabilities h2,
  .portfolio h2,
  .values h2,
  .team h2,
  .materials h2,
  .cta-section h2 {
    text-align: center;
    margin-bottom: var(--space-12);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    color: var(--cmf-primary);
    position: relative;
  }
  
  /* Asymmetrical Grid for Capabilities */
  .capabilities-grid {
    display: grid;
    gap: var(--space-8);
    grid-template-columns: repeat(3, 1fr);
    position: relative;
  }
  
  /* Asymmetrical Capability Cards */
  .capability-card {
    padding: var(--space-8);
    background: linear-gradient(135deg, #ffffff 0%, var(--cmf-off-white) 100%);
    border: 1px solid var(--cmf-metallic-light);
    border-radius: var(--radius-xl);
    text-align: center;
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
  }
  
  /* Asymmetrical offsets for organic feel */
  .card-offset-1 {
    margin-top: var(--offset-small);
    border-radius: var(--radius-xl) var(--radius-lg) var(--radius-xl) var(--radius-lg);
  }
  
  .card-offset-2 {
    margin-top: var(--offset-large);
    border-radius: var(--radius-lg) var(--radius-xl) var(--radius-lg) var(--radius-xl);
  }
  
  .card-offset-3 {
    margin-top: var(--offset-medium);
    border-radius: var(--radius-xl) var(--radius-xl) var(--radius-lg) var(--radius-lg);
  }
  
  .capability-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--cmf-primary) 0%, var(--cmf-orange) 100%);
    transform: scaleX(0);
    transition: transform var(--transition-base);
    transform-origin: left;
  }
  
  .capability-card:hover {
    transform: translateY(-6px) rotate(0.5deg);
    box-shadow: var(--shadow-xl), 0 0 30px var(--cmf-orange-light);
    border-color: var(--cmf-orange);
  }
  
  .capability-card:hover::before {
    transform: scaleX(1);
  }
  
  .capability-icon {
    display: inline-flex;
    padding: var(--space-4);
    background: var(--metal-texture);
    border-radius: var(--radius-lg);
    color: var(--cmf-primary);
    margin-bottom: var(--space-4);
    transition: all var(--transition-base);
  }
  
  .capability-card:hover .capability-icon {
    background: linear-gradient(135deg, var(--cmf-orange-light) 0%, var(--cmf-metallic-light) 100%);
    color: var(--cmf-orange);
    transform: scale(1.1);
  }
  
  .capability-card h3 {
    color: var(--cmf-text-dark);
    margin-bottom: var(--space-3);
    font-size: var(--text-2xl);
  }
  
  .capability-card p {
    color: var(--cmf-text-dark);
    opacity: 0.8;
    margin-bottom: var(--space-4);
    line-height: 1.6;
  }
  
  .capability-features {
    list-style: none;
    padding: 0;
    margin: var(--space-4) 0;
    text-align: left;
    color: var(--gray-700);
    font-size: var(--text-sm);
  }
  
  .capability-features li {
    padding: var(--space-2) 0;
    display: flex;
    align-items: center;
    gap: var(--space-2);
  }
  
  .capability-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--cmf-primary);
    font-weight: 600;
    text-decoration: none;
    transition: all var(--transition-fast);
  }
  
  .capability-link:hover {
    gap: var(--space-3);
    color: var(--cmf-orange);
    text-decoration: underline;
  }
  
  .materials {
    padding: var(--space-16) 0;
    background: var(--brushed-metal);
    background-size: 200px 200px;
    position: relative;
  }
  
  .materials::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--cmf-off-white);
    opacity: 0.95;
  }
  
  .materials-grid {
    display: grid;
    gap: var(--space-6);
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    max-width: 800px;
    margin: 0 auto;
  }
  
  .material-card {
    padding: var(--space-6);
    background: var(--white);
    border-radius: var(--radius-lg);
    text-align: center;
    border: 1px solid var(--gray-200);
    transition: all var(--transition-fast);
  }
  
  .material-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
  
  .material-card h3 {
    color: var(--cmf-blue);
    margin-bottom: var(--space-2);
    font-size: var(--text-xl);
  }
  
  .material-card p {
    color: var(--gray-600);
    font-size: var(--text-sm);
  }
  
  /* Portfolio Section */
  .portfolio {
    padding: var(--space-20) 0;
    background: linear-gradient(135deg, var(--cmf-off-white) 0%, #ffffff 100%);
    position: relative;
  }
  
  .portfolio::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 150px;
    background: var(--canadian-accent);
    opacity: 0.05;
  }
  
  .section-description {
    text-align: center;
    font-size: var(--text-lg);
    color: var(--cmf-text-dark);
    opacity: 0.8;
    max-width: 600px;
    margin: 0 auto var(--space-12);
    line-height: 1.6;
  }
  
  .portfolio-filters {
    display: flex;
    justify-content: center;
    gap: var(--space-4);
    margin-bottom: var(--space-12);
    flex-wrap: wrap;
  }
  
  .filter-btn {
    padding: var(--space-3) var(--space-6);
    border: 2px solid var(--cmf-metallic);
    background: var(--cmf-off-white);
    color: var(--cmf-text-dark);
    border-radius: var(--radius-full);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
  }
  
  .filter-btn:hover,
  .filter-btn.active {
    background: var(--cmf-orange);
    color: var(--cmf-off-white);
    border-color: var(--cmf-orange);
    transform: translateY(-2px);
  }
  
  .portfolio-grid {
    display: grid;
    gap: var(--space-8);
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  }
  
  .portfolio-item {
    background: var(--white);
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
    position: relative;
  }
  
  .portfolio-item:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-xl);
  }
  
  .portfolio-image {
    height: 200px;
    background: linear-gradient(135deg, var(--metal-light) 0%, var(--gray-100) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }
  
  .placeholder-img {
    font-size: 3rem;
    color: var(--gray-400);
  }
  
  .portfolio-content {
    padding: var(--space-6);
  }
  
  .portfolio-content h3 {
    color: var(--gray-900);
    margin-bottom: var(--space-3);
    font-size: var(--text-xl);
  }
  
  .portfolio-content p {
    color: var(--gray-600);
    margin-bottom: var(--space-4);
    line-height: 1.6;
  }
  
  .portfolio-specs {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }
  
  .spec {
    background: var(--gray-100);
    color: var(--gray-700);
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-full);
    font-size: var(--text-xs);
    font-weight: 600;
  }
  
  /* Values Section */
  .values {
    padding: var(--space-24) 0;
    background: var(--white);
    position: relative;
  }
  
  .values::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100px;
    background: linear-gradient(180deg, var(--gray-50) 0%, transparent 100%);
  }
  
  .values-grid {
    display: grid;
    gap: var(--space-8);
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    margin-top: var(--space-12);
  }
  
  .value-story {
    background: linear-gradient(135deg, var(--white) 0%, var(--gray-50) 100%);
    padding: var(--space-8);
    border-radius: var(--radius-xl);
    border: 1px solid var(--gray-200);
    text-align: center;
    transition: all var(--transition-base);
    position: relative;
  }
  
  .value-story:hover {
    transform: translateY(-6px);
    box-shadow: var(--shadow-xl);
    border-color: var(--cmf-primary);
  }
  
  .value-icon {
    font-size: 3rem;
    margin-bottom: var(--space-4);
    display: block;
  }
  
  .value-story h3 {
    color: var(--gray-900);
    margin-bottom: var(--space-4);
    font-size: var(--text-xl);
  }
  
  .value-story p {
    color: var(--gray-600);
    margin-bottom: var(--space-6);
    line-height: 1.6;
    text-align: left;
  }
  
  .value-story blockquote {
    background: var(--cmf-red-light);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--cmf-red);
    margin: 0;
    text-align: left;
  }
  
  .value-story blockquote p {
    color: var(--gray-800);
    font-style: italic;
    margin-bottom: var(--space-2);
    font-weight: 600;
  }
  
  .value-story cite {
    color: var(--gray-600);
    font-size: var(--text-sm);
    font-style: normal;
  }
  
  /* Team Section */
  .team {
    padding: var(--space-24) 0;
    background: linear-gradient(135deg, var(--gray-50) 0%, var(--metal-light) 100%);
    position: relative;
  }
  
  .team-grid {
    display: grid;
    gap: var(--space-10);
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }
  
  .team-member {
    background: var(--white);
    padding: var(--space-8);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-lg);
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
  }
  
  .team-member::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--cmf-blue) 0%, var(--cmf-accent) 100%);
  }
  
  .team-member:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-xl), 0 0 40px var(--cmf-accent-light);
  }
  
  .member-photo {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-full);
    background: linear-gradient(135deg, var(--metal-light) 0%, var(--gray-100) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-6);
    overflow: hidden;
  }
  
  .placeholder-avatar {
    font-size: 2.5rem;
  }
  
  .member-info h3 {
    color: var(--gray-900);
    margin-bottom: var(--space-2);
    text-align: center;
    font-size: var(--text-2xl);
  }
  
  .member-title {
    color: var(--cmf-blue);
    font-weight: 600;
    text-align: center;
    margin-bottom: var(--space-4);
    font-size: var(--text-lg);
  }
  
  .member-bio {
    color: var(--gray-600);
    line-height: 1.6;
    margin-bottom: var(--space-4);
  }
  
  .member-fun-fact {
    background: var(--gray-50);
    padding: var(--space-3);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-4);
    border-left: 3px solid var(--cmf-accent);
  }
  
  .member-fun-fact strong {
    color: var(--cmf-accent);
  }
  
  .member-linkedin {
    color: var(--cmf-blue);
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    transition: all var(--transition-fast);
  }
  
  .member-linkedin:hover {
    color: var(--cmf-accent);
    gap: var(--space-3);
  }
  
  .cta-section {
    padding: var(--space-20) 0;
    background: var(--hero-gradient);
    color: var(--cmf-off-white);
    text-align: center;
    position: relative;
  }
  
  .cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--canadian-accent);
    opacity: 0.03;
  }
  
  .cta-section h2 {
    color: var(--cmf-off-white);
    margin-bottom: var(--space-4);
    position: relative;
    z-index: 1;
  }
  
  .cta-description {
    font-size: var(--text-xl);
    margin-bottom: var(--space-8);
    opacity: 0.95;
    position: relative;
    z-index: 1;
  }
  
  .cta-buttons {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
    flex-wrap: wrap;
    position: relative;
    z-index: 1;
  }
  
  /* Responsive Design - Mobile First */
  @media (max-width: 1024px) {
    .hero-container {
      grid-template-columns: 1fr;
      gap: var(--space-8);
      text-align: center;
    }
    
    .hero-content {
      text-align: center;
      order: 1;
      margin-right: 0;
    }
    
    .hero-form {
      justify-self: center;
      order: 2;
      max-width: 500px;
      width: 100%;
      margin-left: 0;
    }
    
    .trust-indicators {
      justify-content: center;
    }
    
    .capabilities-grid {
      grid-template-columns: 1fr;
    }
    
    /* Reset asymmetrical offsets on mobile */
    .card-offset-1,
    .card-offset-2,
    .card-offset-3 {
      margin-top: 0;
      border-radius: var(--radius-xl);
    }
    
    .values-grid {
      grid-template-columns: 1fr;
    }
    
    .team-grid {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 768px) {
    .capabilities-grid {
      grid-template-columns: 1fr;
      gap: var(--space-6);
    }
    
    .hero {
      padding: var(--space-12) 0;
    }
    
    .hero-container {
      gap: var(--space-6);
    }
    
    .trust-indicators {
      gap: var(--space-4);
      flex-direction: column;
    }
    
    .indicator {
      text-align: center;
    }
    
    .portfolio-filters {
      gap: var(--space-2);
    }
    
    .filter-btn {
      padding: var(--space-2) var(--space-4);
      font-size: var(--text-sm);
    }
    
    .portfolio-grid {
      grid-template-columns: 1fr;
      gap: var(--space-6);
    }
    
    .values {
      padding: var(--space-16) 0;
    }
    
    .team {
      padding: var(--space-16) 0;
    }
    
    .value-story,
    .team-member {
      padding: var(--space-6);
    }
    
    .member-photo {
      width: 60px;
      height: 60px;
    }
    
    .placeholder-avatar {
      font-size: 2rem;
    }
  }
  
  @media (max-width: 480px) {
    .hero h1 {
      font-size: clamp(1.5rem, 6vw, 2rem);
    }
    
    .hero .lead {
      font-size: var(--text-base);
    }
    
    .trust-indicators {
      gap: var(--space-3);
    }
    
    .indicator {
      padding: var(--space-2);
    }
    
    .indicator strong {
      font-size: var(--text-xl);
    }
    
    .cta-buttons {
      flex-direction: column;
      align-items: center;
    }
    
    .cta-button.large {
      padding: var(--space-3) var(--space-6);
      font-size: var(--text-lg);
      width: 100%;
      max-width: 280px;
    }
  }
  
  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .capability-card:hover,
    .portfolio-item:hover,
    .value-story:hover,
    .team-member:hover,
    .cta-button:hover {
      transform: none;
    }
    
    .capability-icon,
    .filter-btn {
      transition: none;
    }
  }
  
  /* Enhanced touch targets for mobile */
  @media (hover: none) {
    .cta-button,
    .filter-btn,
    .capability-link,
    .member-linkedin {
      min-height: 44px;
      min-width: 44px;
    }
  }
</style>

<script>
  // Portfolio Filtering Functionality
  document.addEventListener('DOMContentLoaded', function() {
    const filterBtns = document.querySelectorAll('.filter-btn');
    const portfolioItems = document.querySelectorAll('.portfolio-item');
    
    if (filterBtns.length && portfolioItems.length) {
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          filterBtns.forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');
          
          const filterValue = this.getAttribute('data-filter');
          
          portfolioItems.forEach(item => {
            const category = item.getAttribute('data-category');
            
            if (filterValue === 'all' || category === filterValue) {
              item.style.display = 'block';
              item.style.opacity = '0';
              item.style.transform = 'translateY(20px)';
              
              setTimeout(() => {
                item.style.transition = 'all 0.3s ease';
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
              }, 100);
            } else {
              item.style.transition = 'all 0.3s ease';
              item.style.opacity = '0';
              item.style.transform = 'translateY(-20px)';
              
              setTimeout(() => {
                item.style.display = 'none';
              }, 300);
            }
          });
        });
      });
    }
    
    // Scroll-triggered animations for sections
    const observerOptions = {
      root: null,
      rootMargin: '0px 0px -100px 0px',
      threshold: 0.1
    };
    
    const animateOnScroll = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
          observer.unobserve(entry.target);
        }
      });
    };
    
    const observer = new IntersectionObserver(animateOnScroll, observerOptions);
    
    // Elements to animate on scroll
    const animatedElements = document.querySelectorAll('.capability-card, .value-story, .team-member, .portfolio-item');
    
    animatedElements.forEach((el, index) => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(30px)';
      el.style.transition = `all 0.6s ease ${index * 0.1}s`;
      observer.observe(el);
    });
    
    // Enhanced hover effects for capability cards
    const capabilityCards = document.querySelectorAll('.capability-card');
    capabilityCards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        // Add subtle glow effect to neighboring cards
        capabilityCards.forEach(otherCard => {
          if (otherCard !== card) {
            otherCard.style.filter = 'brightness(0.95)';
          }
        });
      });
      
      card.addEventListener('mouseleave', function() {
        // Remove glow effect
        capabilityCards.forEach(otherCard => {
          otherCard.style.filter = 'brightness(1)';
        });
      });
    });
  });
</script>
